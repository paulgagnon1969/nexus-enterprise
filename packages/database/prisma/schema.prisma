generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Company {
  id                        String              @id @default(cuid())
  name                      String
  createdAt                 DateTime            @default(now())
  updatedAt                 DateTime            @updatedAt
  reputationOverallAvg      Float               @default(2)
  reputationOverallCount    Int                 @default(0)
  reputationOverallOverride Int?
  invites                   CompanyInvite[]
  memberships               CompanyMembership[]
  parcels                   Parcel[]
  projects                  Project[]
  buildings                 ProjectBuilding[]
  projectMemberships        ProjectMembership[]
  particles                 ProjectParticle[]
  units                     ProjectUnit[]
  roleProfiles              RoleProfile[]
  tags                      Tag[]
  tagAssignments            TagAssignment[]
  tasks                     Task[]
}

model User {
  id                        String              @id @default(cuid())
  email                     String              @unique
  passwordHash              String
  createdAt                 DateTime            @default(now())
  updatedAt                 DateTime            @updatedAt
  globalRole                GlobalRole          @default(NONE)
  userType                  UserType            @default(INTERNAL)
  reputationOverallAvg      Float               @default(2)
  reputationOverallCount    Int                 @default(0)
  reputationOverallOverride Int?
  acceptedInvites           CompanyInvite[]
  memberships               CompanyMembership[]
  createdDailyLogs          DailyLog[]
  projectMemberships        ProjectMembership[]
  assignedTasks             Task[]              @relation("TaskAssignee")
}

model CompanyMembership {
  userId    String
  companyId String
  createdAt DateTime     @default(now())
  role      Role
  profileId String?
  company   Company      @relation(fields: [companyId], references: [id])
  profile   RoleProfile? @relation(fields: [profileId], references: [id])
  user      User         @relation(fields: [userId], references: [id])

  @@id([userId, companyId])
}

model CompanyInvite {
  id             String    @id @default(cuid())
  companyId      String
  email          String
  role           Role
  token          String    @unique
  expiresAt      DateTime
  acceptedAt     DateTime?
  acceptedUserId String?
  createdAt      DateTime  @default(now())
  acceptedUser   User?     @relation(fields: [acceptedUserId], references: [id])
  company        Company   @relation(fields: [companyId], references: [id])
}

/// Feature / capability that can be secured via roles (e.g. project_management.daily_logs).
model PermissionResource {
  id              String           @id @default(cuid())
  code            String           @unique
  label           String
  section         String
  sortOrder       Int              @default(0)
  active          Boolean          @default(true)
  rolePermissions RolePermission[]
}

/// NCC standard or custom per-company permission profile.
model RoleProfile {
  id              String              @id @default(cuid())
  companyId       String?
  code            String
  label           String
  description     String?
  isStandard      Boolean             @default(false)
  active          Boolean             @default(true)
  sourceProfileId String?
  createdAt       DateTime            @default(now())
  createdBy       String?
  updatedAt       DateTime            @updatedAt
  members         CompanyMembership[]
  permissions     RolePermission[]
  company         Company?            @relation(fields: [companyId], references: [id])

  @@index([companyId], map: "RoleProfile_company_idx")
}

/// Mapping between a RoleProfile and a PermissionResource with specific actions.
model RolePermission {
  id                String             @id @default(cuid())
  profileId         String
  resourceId        String
  canView           Boolean            @default(false)
  canAdd            Boolean            @default(false)
  canEdit           Boolean            @default(false)
  canDelete         Boolean            @default(false)
  canViewAll        Boolean            @default(false)
  canApprove        Boolean            @default(false)
  canManageSettings Boolean            @default(false)
  profile           RoleProfile        @relation(fields: [profileId], references: [id])
  resource          PermissionResource @relation(fields: [resourceId], references: [id])

  @@index([profileId], map: "RolePermission_profile_idx")
  @@index([resourceId], map: "RolePermission_resource_idx")
}

model Project {
  id                   String                    @id @default(cuid())
  companyId            String
  name                 String
  status               String                    @default("active")
  createdAt            DateTime                  @default(now())
  updatedAt            DateTime                  @updatedAt
  addressLine1         String
  addressLine2         String?
  city                 String
  country              String?                   @default("US")
  createdByUserId      String?
  geocodedAt           DateTime?
  latitude             Float?
  longitude            Float?
  postalCode           String?
  primaryContactEmail  String?
  primaryContactName   String?
  primaryContactPhone  String?
  state                String
  /// Optional external claim / file ID used to link imports
  externalId           String?                   @unique
  allocationRules      ComponentAllocationRule[]
  componentSummaries   ComponentSummary[]
  dailyLogs            DailyLog[]
  estimateVersions     EstimateVersion[]
  parcels              Parcel[]
  petlEditSessions     PetlEditSession[]
  company              Company                   @relation(fields: [companyId], references: [id])
  buildings            ProjectBuilding[]
  memberships          ProjectMembership[]
  particles            ProjectParticle[]
  units                ProjectUnit[]
  sows                 Sow[]
  componentAllocations SowComponentAllocation[]
  sowLogicalItems      SowLogicalItem[]
  tasks                Task[]
}

model Parcel {
  id                String           @id @default(cuid())
  name              String
  parcelCode        String?
  status            ParcelStatus     @default(PLANNED)
  areaSqFt          Float?
  zoning            String?
  companyId         String
  projectId         String
  createdAt         DateTime         @default(now())
  updatedAt         DateTime         @updatedAt
  projectParticleId String?
  company           Company          @relation(fields: [companyId], references: [id])
  project           Project          @relation(fields: [projectId], references: [id])
  projectParticle   ProjectParticle? @relation(fields: [projectParticleId], references: [id])
}

/// Global list of job / project statuses (e.g. Open, Closed, Warranty).
model JobStatus {
  id        String  @id @default(cuid())
  code      String  @unique
  label     String
  sortOrder Int     @default(0)
  active    Boolean @default(true)
}

model ProjectMembership {
  userId     String
  projectId  String
  companyId  String
  role       ProjectRole
  createdAt  DateTime                @default(now())
  scope      ProjectParticipantScope @default(OWNER_MEMBER)
  visibility ProjectVisibilityLevel  @default(FULL)
  company    Company                 @relation(fields: [companyId], references: [id])
  project    Project                 @relation(fields: [projectId], references: [id])
  user       User                    @relation(fields: [userId], references: [id])

  @@id([userId, projectId])
}

model ProjectBuilding {
  id        String            @id @default(cuid())
  companyId String
  projectId String
  code      String?
  name      String
  createdAt DateTime          @default(now())
  updatedAt DateTime          @updatedAt
  company   Company           @relation(fields: [companyId], references: [id])
  project   Project           @relation(fields: [projectId], references: [id])
  particles ProjectParticle[]
  units     ProjectUnit[]
}

model ProjectUnit {
  id           String            @id @default(cuid())
  companyId    String
  projectId    String
  buildingId   String?
  externalCode String?
  label        String
  floor        Int?
  createdAt    DateTime          @default(now())
  updatedAt    DateTime          @updatedAt
  particles    ProjectParticle[]
  building     ProjectBuilding?  @relation(fields: [buildingId], references: [id])
  company      Company           @relation(fields: [companyId], references: [id])
  project      Project           @relation(fields: [projectId], references: [id])

  @@unique([projectId, label], name: "ProjectUnit_projectId_label_key")
}

model ProjectParticle {
  id                       String              @id @default(cuid())
  companyId                String
  projectId                String
  buildingId               String?
  unitId                   String?
  type                     ProjectParticleType @default(ROOM)
  name                     String
  fullLabel                String
  externalGroupCode        String?
  externalGroupDescription String?
  parentParticleId         String?
  createdAt                DateTime            @default(now())
  updatedAt                DateTime            @updatedAt
  parcels                  Parcel[]
  building                 ProjectBuilding?    @relation(fields: [buildingId], references: [id])
  company                  Company             @relation(fields: [companyId], references: [id])
  parentParticle           ProjectParticle?    @relation("ProjectParticleParent", fields: [parentParticleId], references: [id])
  childParticles           ProjectParticle[]   @relation("ProjectParticleParent")
  project                  Project             @relation(fields: [projectId], references: [id])
  unit                     ProjectUnit?        @relation(fields: [unitId], references: [id])
  sowItems                 SowItem[]
  sowLogicalItems          SowLogicalItem[]
  tasks                    Task[]
}

model AdminAuditLog {
  id              String     @id @default(cuid())
  actorId         String
  actorEmail      String
  actorGlobalRole GlobalRole
  action          String
  targetCompanyId String?
  targetUserId    String?
  metadata        Json?
  createdAt       DateTime   @default(now())
}

model Task {
  id                String           @id @default(cuid())
  title             String
  description       String?
  status            TaskStatus       @default(TODO)
  dueDate           DateTime?
  companyId         String
  projectId         String
  assigneeId        String?
  createdAt         DateTime         @default(now())
  updatedAt         DateTime         @updatedAt
  priority          TaskPriority     @default(MEDIUM)
  projectParticleId String?
  assignee          User?            @relation("TaskAssignee", fields: [assigneeId], references: [id])
  company           Company          @relation(fields: [companyId], references: [id])
  project           Project          @relation(fields: [projectId], references: [id])
  projectParticle   ProjectParticle? @relation(fields: [projectParticleId], references: [id])
}

model EstimateVersion {
  id                   String                    @id @default(cuid())
  projectId            String
  sourceType           String
  fileName             String
  storedPath           String
  estimateKind         String
  sequenceNo           Int
  defaultPayerType     String
  description          String?
  status               String
  errorMessage         String?
  importedByUserId     String?
  importedAt           DateTime?
  createdAt            DateTime                  @default(now())
  updatedAt            DateTime                  @updatedAt
  allocationRules      ComponentAllocationRule[]
  componentSummaries   ComponentSummary[]
  project              Project                   @relation(fields: [projectId], references: [id])
  rawComponentRows     RawComponentRow[]
  rawRows              RawXactRow[]
  sows                 Sow[]
  componentAllocations SowComponentAllocation[]
  sowItems             SowItem[]

  @@index([projectId, sequenceNo], map: "EstimateVersion_project_sequence_idx")
}

model RawXactRow {
  id                 String          @id @default(cuid())
  estimateVersionId  String
  lineNo             Int
  groupCode          String?
  groupDescription   String?
  desc               String?
  age                Float?
  condition          String?
  qty                Float?
  itemAmount         Float?
  reportedCost       Float?
  unitCost           Float?
  unit               String?
  coverage           String?
  activity           String?
  workersWage        Float?
  laborBurden        Float?
  laborOverhead      Float?
  material           Float?
  equipment          Float?
  marketConditions   Float?
  laborMinimum       Float?
  salesTax           Float?
  rcv                Float?
  life               Int?
  depreciationType   String?
  depreciationAmount Float?
  recoverable        Boolean?
  acv                Float?
  tax                Float?
  replaceFlag        Boolean?
  cat                String?
  sel                String?
  owner              String?
  originalVendor     String?
  sourceName         String?
  sourceDate         DateTime?
  note1              String?
  adjSource          String?
  rawRowJson         Json?
  createdAt          DateTime        @default(now())
  updatedAt          DateTime        @updatedAt
  estimateVersion    EstimateVersion @relation(fields: [estimateVersionId], references: [id])
  sowItems           SowItem[]

  @@index([estimateVersionId, lineNo], map: "RawXactRow_estimate_line_idx")
}

model RawComponentRow {
  id                          String          @id @default(cuid())
  estimateVersionId           String
  code                        String?
  description                 String?
  taxStatus                   String?
  contractorSuppliedRaw       String?
  quantityRaw                 String?
  unitRaw                     String?
  unitPriceRaw                String?
  totalRaw                    String?
  requestThirdPartyPricingRaw String?
  rawRowJson                  Json?
  createdAt                   DateTime        @default(now())
  updatedAt                   DateTime        @updatedAt
  estimateVersion             EstimateVersion @relation(fields: [estimateVersionId], references: [id])

  @@index([estimateVersionId], map: "RawComponentRow_estimate_idx")
}

model ComponentSummary {
  id                       String                   @id @default(cuid())
  projectId                String
  estimateVersionId        String
  code                     String
  description              String?
  taxStatus                String?
  contractorSupplied       Boolean?
  quantity                 Float?
  unit                     String?
  unitPrice                Float?
  total                    Float?
  requestThirdPartyPricing Boolean?
  createdAt                DateTime                 @default(now())
  updatedAt                DateTime                 @updatedAt
  estimateVersion          EstimateVersion          @relation(fields: [estimateVersionId], references: [id])
  project                  Project                  @relation(fields: [projectId], references: [id])
  allocations              SowComponentAllocation[]

  @@index([projectId, estimateVersionId, code], map: "ComponentSummary_project_estimate_code_idx")
}

model SowComponentAllocation {
  id                 String            @id @default(cuid())
  projectId          String
  estimateVersionId  String
  sowItemId          String
  componentSummaryId String?
  code               String
  quantity           Float?
  total              Float?
  allocationBasis    String?
  createdAt          DateTime          @default(now())
  updatedAt          DateTime          @updatedAt
  componentSummary   ComponentSummary? @relation(fields: [componentSummaryId], references: [id])
  estimateVersion    EstimateVersion   @relation(fields: [estimateVersionId], references: [id])
  project            Project           @relation(fields: [projectId], references: [id])
  sowItem            SowItem           @relation(fields: [sowItemId], references: [id])

  @@index([projectId, estimateVersionId, code], map: "SowComponentAllocation_project_estimate_code_idx")
  @@index([sowItemId], map: "SowComponentAllocation_sowItem_idx")
}

model ComponentAllocationRule {
  id                 String           @id @default(cuid())
  projectId          String
  estimateVersionId  String?
  componentCode      String
  targetCategoryCode String?
  targetActivity     String?
  active             Boolean          @default(true)
  createdAt          DateTime         @default(now())
  updatedAt          DateTime         @updatedAt
  estimateVersion    EstimateVersion? @relation(fields: [estimateVersionId], references: [id])
  project            Project          @relation(fields: [projectId], references: [id])

  @@index([projectId, componentCode], map: "ComponentAllocationRule_project_code_idx")
  @@index([estimateVersionId], map: "ComponentAllocationRule_estimate_idx")
}

model Sow {
  id                String          @id @default(cuid())
  projectId         String
  estimateVersionId String
  sourceType        String
  totalAmount       Float?
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt
  estimateVersion   EstimateVersion @relation(fields: [estimateVersionId], references: [id])
  project           Project         @relation(fields: [projectId], references: [id])
  items             SowItem[]
}

model SowLogicalItem {
  id                String          @id @default(cuid())
  projectId         String
  projectParticleId String
  signatureHash     String
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt
  items             SowItem[]
  project           Project         @relation(fields: [projectId], references: [id])
  projectParticle   ProjectParticle @relation(fields: [projectParticleId], references: [id])
}

model SowItem {
  id                   String                   @id @default(cuid())
  sowId                String
  estimateVersionId    String
  rawRowId             String
  logicalItemId        String
  projectParticleId    String
  lineNo               Int
  description          String
  qty                  Float?
  unit                 String?
  unitCost             Float?
  itemAmount           Float?
  rcvAmount            Float?
  acvAmount            Float?
  depreciationAmount   Float?
  salesTaxAmount       Float?
  categoryCode         String?
  selectionCode        String?
  activity             String?
  materialAmount       Float?
  equipmentAmount      Float?
  payerType            String
  performed            Boolean                  @default(false)
  eligibleForAcvRefund Boolean                  @default(false)
  acvRefundAmount      Float?
  percentComplete      Float                    @default(0)
  createdAt            DateTime                 @default(now())
  updatedAt            DateTime                 @updatedAt
  petlEditChanges      PetlEditChange[]
  componentAllocations SowComponentAllocation[]
  estimateVersion      EstimateVersion          @relation(fields: [estimateVersionId], references: [id])
  logicalItem          SowLogicalItem           @relation(fields: [logicalItemId], references: [id])
  projectParticle      ProjectParticle          @relation(fields: [projectParticleId], references: [id])
  rawRow               RawXactRow               @relation(fields: [rawRowId], references: [id])
  sow                  Sow                      @relation(fields: [sowId], references: [id])

  @@index([estimateVersionId, projectParticleId], map: "SowItem_estimate_particle_idx")
  @@index([projectParticleId], map: "SowItem_particle_idx")
  @@index([categoryCode, selectionCode], map: "SowItem_cat_sel_idx")
}

/// Generic nickname / alias model for projects and particles.
model NameAlias {
  id           String   @id @default(cuid())
  /// 'project' | 'particle' (extendable later)
  entityType   String
  /// ID of the underlying entity (Project.id, ProjectParticle.id, ...)
  entityId     String
  /// The original name we are aliasing from (for audit / display of Xactimate source names).
  originalName String
  /// The human-friendly nickname.
  nickname     String
  /// Exactly one current alias per (entityType, entityId) should be true.
  isCurrent    Boolean  @default(true)
  createdBy    String?
  createdAt    DateTime @default(now())
}

/// Global tag dictionary per company (project groups, room tags, etc.).
model Tag {
  id              String          @id @default(cuid())
  companyId       String
  code            String
  label           String
  color           String?
  sortOrder       Int             @default(0)
  active          Boolean         @default(true)
  createdByUserId String?
  createdAt       DateTime        @default(now())
  updatedAt       DateTime        @updatedAt
  company         Company         @relation(fields: [companyId], references: [id])
  assignments     TagAssignment[]

  @@unique([companyId, code], name: "Tag_company_code_key")
}

/// Attach tags to arbitrary entities (projects, particles, tasks, parcels, ...).
model TagAssignment {
  id              String   @id @default(cuid())
  tagId           String
  companyId       String
  /// 'project' | 'particle' | 'task' | 'parcel' | ...
  entityType      String
  entityId        String
  createdByUserId String?
  createdAt       DateTime @default(now())
  company         Company  @relation(fields: [companyId], references: [id])
  tag             Tag      @relation(fields: [tagId], references: [id])

  @@index([companyId, entityType, entityId], map: "TagAssignment_entity_idx")
  @@index([companyId, tagId], map: "TagAssignment_tag_idx")
}

model PetlEditSession {
  id        String           @id @default(cuid())
  userId    String?
  projectId String
  source    String           @default("ncc-petl-ui")
  meta      Json?
  startedAt DateTime
  endedAt   DateTime
  createdAt DateTime         @default(now())
  updatedAt DateTime         @updatedAt
  changes   PetlEditChange[]
  project   Project          @relation(fields: [projectId], references: [id])
}

model PetlEditChange {
  id          String          @id @default(cuid())
  sessionId   String
  sowItemId   String
  field       String
  oldValue    Float?
  newValue    Float?
  effectiveAt DateTime
  createdAt   DateTime        @default(now())
  updatedAt   DateTime        @updatedAt
  session     PetlEditSession @relation(fields: [sessionId], references: [id])
  sowItem     SowItem         @relation(fields: [sowItemId], references: [id])
}

model DailyLog {
  id                   String               @id @default(cuid())
  projectId            String
  createdById          String
  logDate              DateTime
  title                String?
  tagsJson             String?
  weatherSummary       String?
  crewOnSite           String?
  workPerformed        String?
  issues               String?
  safetyIncidents      String?
  manpowerOnsite       String?
  personOnsite         String?
  confidentialNotes    String?
  shareInternal        Boolean              @default(true)
  shareSubs            Boolean              @default(false)
  shareClient          Boolean              @default(false)
  sharePrivate         Boolean              @default(false)
  notifyUserIdsJson    String?
  createdAt            DateTime             @default(now())
  updatedAt            DateTime             @updatedAt
  effectiveShareClient Boolean              @default(false)
  status               DailyLogStatus       @default(SUBMITTED)
  createdBy            User                 @relation(fields: [createdById], references: [id])
  project              Project              @relation(fields: [projectId], references: [id])
  attachments          DailyLogAttachment[]

  @@index([projectId], map: "DailyLog_project_idx")
}

model DailyLogAttachment {
  id         String   @id @default(cuid())
  dailyLogId String
  fileUrl    String
  fileName   String?
  mimeType   String?
  sizeBytes  Int?
  createdAt  DateTime @default(now())
  dailyLog   DailyLog @relation(fields: [dailyLogId], references: [id])

  @@index([dailyLogId], map: "DailyLogAttachment_log_idx")
}

model OnboardingSession {
  id                      String           @id @default(cuid())
  companyId               String
  email                   String
  token                   String           @unique
  status                  OnboardingStatus @default(NOT_STARTED)
  checklistJson           String?
  assignedHiringManagerId String?
  createdAt               DateTime         @default(now())
  updatedAt               DateTime         @updatedAt
}

model OnboardingProfile {
  id           String  @id @default(cuid())
  sessionId    String
  firstName    String?
  lastName     String?
  phone        String?
  addressLine1 String?
  addressLine2 String?
  city         String?
  state        String?
  postalCode   String?
  country      String?
}

model OnboardingDocument {
  id        String                 @id @default(cuid())
  sessionId String
  type      OnboardingDocumentType
  fileUrl   String
  fileName  String?
  mimeType  String?
  sizeBytes Int?
  createdAt DateTime               @default(now())
}

model OnboardingBankInfo {
  id                  String   @id @default(cuid())
  sessionId           String
  accountHolderName   String?
  routingNumberMasked String?
  accountNumberMasked String?
  bankName            String?
  createdAt           DateTime @default(now())
}

model OnboardingSkillRating {
  id        String   @id @default(cuid())
  sessionId String
  skillId   String
  level     Int
  updatedAt DateTime @updatedAt
}

model SkillCategory {
  id        String  @id @default(cuid())
  code      String  @unique
  label     String
  sortOrder Int     @default(0)
  active    Boolean @default(true)
}

model SkillDefinition {
  id          String  @id @default(cuid())
  categoryId  String
  code        String  @unique
  label       String
  description String?
  sortOrder   Int     @default(0)
  active      Boolean @default(true)
}

model UserSkillRating {
  id                  String   @id @default(cuid())
  userId              String
  skillId             String
  selfLevel           Int
  selfLevelLabel      String?
  yearsExperience     Int?
  notes               String?
  employerAvgLevel    Float?
  employerRatingCount Int?
  adminOverrideLevel  Int?
  updatedAt           DateTime @updatedAt

  @@unique([userId, skillId], name: "UserSkillRating_user_skill_key")
}

model EmployerSkillRating {
  id            String   @id @default(cuid())
  userId        String
  skillId       String
  companyId     String
  ratedByUserId String?
  level         Int
  levelLabel    String?
  comment       String?
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@index([userId, skillId], map: "EmployerSkillRating_user_skill_idx")
  @@index([companyId], map: "EmployerSkillRating_company_idx")
}

model ReputationRating {
  id                String                     @id @default(cuid())
  subjectType       ReputationSubjectType
  subjectUserId     String?
  subjectCompanyId  String?
  raterUserId       String?
  raterCompanyId    String?
  sourceType        ReputationSourceType
  dimension         ReputationDimension        @default(OVERALL)
  score             Int
  comment           String?
  moderationStatus  ReputationModerationStatus @default(PENDING)
  moderatedByUserId String?
  moderatedAt       DateTime?
  moderatorNote     String?
  isActive          Boolean                    @default(true)
  createdAt         DateTime                   @default(now())
  updatedAt         DateTime                   @updatedAt

  @@index([subjectUserId], map: "ReputationRating_subject_user_idx")
  @@index([subjectCompanyId], map: "ReputationRating_subject_company_idx")
}

enum GlobalRole {
  NONE
  SUPER_ADMIN
  SUPPORT
}

enum UserType {
  INTERNAL
  CLIENT
}

enum Role {
  OWNER
  ADMIN
  MEMBER
  CLIENT
}

enum ParcelStatus {
  PLANNED
  ACTIVE
  ON_HOLD
  COMPLETE
}

enum ProjectRole {
  OWNER
  MANAGER
  COLLABORATOR
  VIEWER
}

enum ProjectParticipantScope {
  OWNER_MEMBER
  COLLABORATOR_MEMBER
  EXTERNAL_CONTACT
}

enum ProjectVisibilityLevel {
  FULL
  LIMITED
  READ_ONLY
}

enum ProjectParticleType {
  ROOM
  ZONE
  EXTERIOR
}

enum TaskStatus {
  TODO
  IN_PROGRESS
  BLOCKED
  DONE
}

enum TaskPriority {
  LOW
  MEDIUM
  HIGH
  CRITICAL
}

enum DailyLogStatus {
  SUBMITTED
  APPROVED
  REJECTED
}

enum OnboardingStatus {
  NOT_STARTED
  IN_PROGRESS
  SUBMITTED
  UNDER_REVIEW
  APPROVED
  REJECTED
}

enum OnboardingDocumentType {
  PHOTO
  GOV_ID
  OTHER
}

enum ReputationSubjectType {
  USER
  COMPANY
}

enum ReputationSourceType {
  EMPLOYER_ON_WORKER
  WORKER_ON_EMPLOYER
  CLIENT_ON_COMPANY
  COMPANY_ON_CLIENT
  MODERATOR_ADJUSTMENT
}

enum ReputationDimension {
  OVERALL
  SAFETY
  PAYMENT
  COMMUNICATION
  QUALITY
}

enum ReputationModerationStatus {
  PENDING
  APPROVED
  REJECTED
}
